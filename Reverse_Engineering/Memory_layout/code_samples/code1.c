#include<stdio.h>
#include<stdlib.h>

int global_var1 = 1000;
int global_var2;

int main(int argc, char **argv, char **env) {	

	if(argc != 3) {
		printf("Run the program with 2 command line arguments\n");
		return 1;
	}
	
	int local_var = 123;
	

	int *ptr;
	ptr = (int *)malloc(sizeof(int));


	printf("Address of first environment variable = %p\n", env[0]);
	printf("Address of argv[2] = %p\n", argv[2]);
	printf("Address of argv[1] = %p\n", argv[1]);
	printf("Address of argv[0] = %p\n", argv[0]);
	printf("Address of local variable(present in STACK) = %p\n", &local_var);

	printf("Address of puts(a shared library function) = %p -- Why does this function placed at this address?\n", puts);

	printf("Address of ptr(pointer returned by malloc() - HEAP) = %p\n", ptr);
	printf("Address of Uninitialized Global Variable = %p\n", &global_var2);
	printf("Address of initialized global variable = %p\n", &global_var1);
	printf("Address of main function in text segment = %p\n", main);

	for(;;);

	free(ptr);

	return 0;
}

